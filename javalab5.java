/**
 * Класс для демонстрации рекурсивного вычисления НОД
 * с использованием алгоритма Евклида
 */
public class EuclideanGCD {
    
    /**
     * Рекурсивная функция для вычисления наибольшего общего делителя (НОД)
     * двух целых чисел с использованием алгоритма Евклида
     * 
     * @param a первое число
     * @param b второе число
     * @return наибольший общий делитель чисел a и b
     * 
     * Алгоритм основан на математическом свойстве:
     * НОД(a, b) = НОД(b, a mod b), где a mod b - остаток от деления a на b
     * Процесс повторяется до тех пор, пока второй аргумент не станет равным 0
     */
    public static int gcd(int a, int b) {
        // БАЗОВЫЙ СЛУЧАЙ РЕКУРСИИ
        // Если второе число b равно 0, это означает, что предыдущий вызов
        // функции привел к ситуации, где одно число делится на другое без остатка
        // В этом случае первое число a и является наибольшим общим делителем
        if (b == 0) {
            System.out.println("Базовый случай достигнут: b = 0, возвращаем НОД = " + a);
            return a;
        }
        
        // РЕКУРСИВНЫЙ СЛУЧАЙ
        // Вычисляем остаток от деления a на b
        int remainder = a % b;
        System.out.println("Рекурсивный вызов: НОД(" + a + ", " + b + ") -> " + 
                          "НОД(" + b + ", " + remainder + ")");
        
        // Рекурсивно вызываем эту же функцию с новыми аргументами:
        // - первый аргумент: предыдущий второй аргумент (b)
        // - второй аргумент: остаток от деления a на b
        // Это соответствует математической формуле: НОД(a, b) = НОД(b, a mod b)
        return gcd(b, remainder);
    }
    
    /**
     * Основной метод программы для демонстрации работы алгоритма
     * 
     * @param args аргументы командной строки (не используются)
     */
    public static void main(String[] args) {
        // Задаем два числа, для которых будем вычислять НОД
        int num1 = 56, num2 = 98;
        
        System.out.println("=== ВЫЧИСЛЕНИЕ НОД С ИСПОЛЬЗОВАНИЕМ АЛГОРИТМА ЕВКЛИДА ===");
        System.out.println("Исходные числа: " + num1 + " и " + num2);
        System.out.println("\nПоследовательность рекурсивных вызовов:");
        
        // Вызываем функцию gcd и сохраняем результат
        int result = gcd(num1, num2);
        
        // Выводим окончательный результат
        System.out.println("\n=== РЕЗУЛЬТАТ ===");
        System.out.println("НОД(" + num1 + ", " + num2 + ") = " + result);
        
        // Дополнительная проверка и демонстрация
        System.out.println("\n=== ПРОВЕРКА ===");
        System.out.println(num1 + " / " + result + " = " + (num1 / result));
        System.out.println(num2 + " / " + result + " = " + (num2 / result));
        System.out.println("Оба делятся без остатка - результат верный!");
        
        // Демонстрация работы с другими числами
        System.out.println("\n=== ДОПОЛНИТЕЛЬНЫЕ ПРИМЕРЫ ===");
        demonstrateWithOtherNumbers();
    }
    
    /**
     * Дополнительный метод для демонстрации работы алгоритма
     * с различными наборами чисел
     */
    public static void demonstrateWithOtherNumbers() {
        // Пример 1: простые случаи
        int[][] testCases = {
            {48, 18},    // Ожидаемый НОД: 6
            {17, 13},    // Ожидаемый НОД: 1 (взаимно простые числа)
            {100, 25},   // Ожидаемый НОД: 25
            {0, 5},      // Ожидаемый НОД: 5 (особый случай)
            {7, 0}       // Ожидаемый НОД: 7 (особый случай)
        };
        
        for (int i = 0; i < testCases.length; i++) {
            int a = testCases[i][0];
            int b = testCases[i][1];
            int gcdResult = gcd(a, b);
            System.out.println("НОД(" + a + ", " + b + ") = " + gcdResult);
        }
    }
    
    /**
     * Альтернативная итеративная версия алгоритма Евклида
     * для сравнения с рекурсивной версией
     * 
     * @param a первое число
     * @param b второе число
     * @return наибольший общий делитель чисел a и b
     */
    public static int gcdIterative(int a, int b) {
        System.out.println("\n=== ИТЕРАТИВНАЯ ВЕРСИЯ ===");
        
        // Продолжаем вычисления, пока b не станет равным 0
        while (b != 0) {
            System.out.println("НОД(" + a + ", " + b + ") -> остаток = " + (a % b));
            
            // Сохраняем текущее значение b
            int temp = b;
            // Обновляем b как остаток от деления a на b
            b = a % b;
            // Обновляем a как предыдущее значение b
            a = temp;
        }
        
        System.out.println("Результат: " + a);
        return a;
    }
}
